<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>AI Engineering in Banking ‚Äî DevUp 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  :root {
    --bg: #0B0E17; --surface: #131722; --card: #1A1F2E;
    --border: rgba(255,255,255,0.08);
    --accent: #3B82F6; --green: #10B981; --amber: #F59E0B;
    --red: #EF4444; --purple: #8B5CF6; --dino: #4ADE80;
    --text: rgba(255,255,255,0.92); --dim: rgba(255,255,255,0.55);
    --muted: rgba(255,255,255,0.25);
  }
  body {
    background: var(--bg); color: var(--text);
    font-family: 'Inter', -apple-system, sans-serif;
    min-height: 100vh; min-height: 100dvh;
    display: flex; flex-direction: column; align-items: center;
    overflow-x: hidden;
  }
  .container { width: 100%; max-width: 520px; padding: 20px 16px; min-height: 100vh; min-height: 100dvh; display: flex; flex-direction: column; }

  /* ===== HEADER ===== */
  .top-bar {
    display: flex; align-items: center; justify-content: space-between;
    padding: 8px 0 16px; border-bottom: 1px solid var(--border); margin-bottom: 20px;
  }
  .logo { display: flex; align-items: center; gap: 10px; }
  .logo-mark {
    width: 28px; height: 28px; border-radius: 7px;
    background: linear-gradient(135deg, var(--accent), var(--green));
    display: flex; align-items: center; justify-content: center;
    font-weight: 900; font-size: 11px; color: #fff;
  }
  .logo-name { font-size: 15px; font-weight: 700; letter-spacing: -0.3px; }
  .logo-name span { color: var(--accent); }
  .badge {
    font-family: 'Space Mono', monospace; font-size: 9px; font-weight: 700;
    letter-spacing: 1.5px; text-transform: uppercase; color: var(--dino);
    background: rgba(74,222,128,0.08); padding: 4px 10px; border-radius: 20px;
    border: 1px solid rgba(74,222,128,0.15);
  }

  /* ===== SCREENS ===== */
  .screen { display: none; flex-direction: column; flex: 1; animation: fadeUp 0.4s ease; }
  .screen.active { display: flex; }
  @keyframes fadeUp { from { opacity:0; transform:translateY(16px); } to { opacity:1; transform:translateY(0); } }

  /* ===== WELCOME ===== */
  .welcome-icon { font-size: 64px; text-align: center; margin: 24px 0 16px; }
  .welcome-title {
    font-size: 28px; font-weight: 800; text-align: center;
    line-height: 1.15; letter-spacing: -0.5px; margin-bottom: 12px;
  }
  .welcome-sub { font-size: 15px; color: var(--dim); text-align: center; line-height: 1.5; margin-bottom: 32px; }
  .era-preview {
    display: flex; flex-direction: column; gap: 6px; margin-bottom: 32px;
    padding: 16px; border-radius: 12px; background: var(--surface); border: 1px solid var(--border);
  }
  .era-row { display: flex; align-items: center; gap: 10px; font-size: 13px; }
  .era-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
  .era-label { color: var(--dim); }
  .era-label b { color: var(--text); font-weight: 600; }

  .btn-start {
    width: 100%; padding: 16px; border: none; border-radius: 12px;
    background: linear-gradient(135deg, var(--accent), var(--purple));
    color: #fff; font-size: 16px; font-weight: 700; cursor: pointer;
    letter-spacing: 0.3px; transition: transform 0.15s, box-shadow 0.15s;
    box-shadow: 0 4px 24px rgba(59,130,246,0.25);
  }
  .btn-start:active { transform: scale(0.97); }

  /* ===== QUESTION ===== */
  .q-progress { display: flex; gap: 4px; margin-bottom: 20px; }
  .q-pip {
    flex: 1; height: 4px; border-radius: 2px; background: var(--border);
    transition: background 0.3s;
  }
  .q-pip.done { background: var(--green); }
  .q-pip.now { background: var(--accent); }

  .q-num {
    font-family: 'Space Mono', monospace; font-size: 11px; font-weight: 700;
    letter-spacing: 2px; text-transform: uppercase; color: var(--muted); margin-bottom: 8px;
  }
  .q-text { font-size: 19px; font-weight: 700; line-height: 1.35; margin-bottom: 24px; letter-spacing: -0.2px; }
  .q-hint { font-size: 13px; color: var(--dim); margin-bottom: 20px; font-style: italic; }

  .options { display: flex; flex-direction: column; gap: 10px; flex: 1; }
  .opt {
    padding: 16px 18px; border-radius: 12px; border: 1px solid var(--border);
    background: var(--surface); cursor: pointer; transition: all 0.2s;
    display: flex; align-items: flex-start; gap: 14px;
  }
  .opt:hover { border-color: rgba(59,130,246,0.3); background: rgba(59,130,246,0.04); }
  .opt:active { transform: scale(0.98); }
  .opt.selected { border-color: var(--accent); background: rgba(59,130,246,0.08); }
  .opt-letter {
    width: 28px; height: 28px; border-radius: 8px; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    font-weight: 800; font-size: 12px;
    background: rgba(255,255,255,0.05); color: var(--dim);
    transition: all 0.2s;
  }
  .opt.selected .opt-letter { background: var(--accent); color: #fff; }
  .opt-text { font-size: 14px; line-height: 1.45; color: var(--dim); transition: color 0.2s; padding-top: 3px; }
  .opt.selected .opt-text { color: var(--text); }

  .btn-next {
    width: 100%; padding: 14px; border: none; border-radius: 12px;
    background: var(--accent); color: #fff; font-size: 15px; font-weight: 700;
    cursor: pointer; margin-top: 16px; opacity: 0.3; pointer-events: none;
    transition: opacity 0.2s, transform 0.15s;
  }
  .btn-next.ready { opacity: 1; pointer-events: auto; }
  .btn-next:active { transform: scale(0.97); }

  /* ===== RESULTS ===== */
  .result-era-icon { font-size: 72px; text-align: center; margin: 16px 0 12px; }
  .result-era-label {
    font-family: 'Space Mono', monospace; font-size: 11px; font-weight: 700;
    letter-spacing: 2px; text-transform: uppercase; text-align: center; margin-bottom: 6px;
  }
  .result-era-name { font-size: 32px; font-weight: 900; text-align: center; margin-bottom: 6px; letter-spacing: -0.5px; }
  .result-era-years { font-size: 14px; color: var(--dim); text-align: center; margin-bottom: 20px; }

  .result-bar-wrap { margin-bottom: 20px; }
  .result-bar-bg {
    height: 10px; border-radius: 5px; overflow: hidden;
    background: linear-gradient(90deg, #64748b 0%, #64748b 25%, var(--amber) 25%, var(--amber) 50%, var(--purple) 50%, var(--purple) 75%, var(--dino) 75%, var(--dino) 100%);
    position: relative;
  }
  .result-bar-marker {
    position: absolute; top: -6px; width: 22px; height: 22px;
    border-radius: 50%; background: #fff; border: 3px solid var(--accent);
    transition: left 0.8s cubic-bezier(0.16,1,0.3,1);
    box-shadow: 0 2px 10px rgba(0,0,0,0.4);
  }
  .result-bar-labels {
    display: flex; justify-content: space-between; margin-top: 6px;
    font-size: 9px; font-family: 'Space Mono', monospace; color: var(--muted); letter-spacing: 0.5px;
  }

  .result-card {
    background: var(--surface); border: 1px solid var(--border); border-radius: 14px;
    padding: 18px 20px; margin-bottom: 14px;
  }
  .result-card-title { font-size: 13px; font-weight: 700; margin-bottom: 10px; color: var(--dim); }
  .result-card p { font-size: 14px; line-height: 1.55; color: var(--dim); }
  .result-card p b { color: var(--text); }

  .result-breakdown { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 16px; }
  .rb-item {
    background: var(--card); border-radius: 10px; padding: 12px 14px; text-align: center;
    border: 1px solid var(--border);
  }
  .rb-val { font-size: 22px; font-weight: 800; }
  .rb-label { font-size: 10px; color: var(--muted); margin-top: 2px; letter-spacing: 0.5px; text-transform: uppercase; }

  .btn-retry {
    width: 100%; padding: 14px; border: none; border-radius: 12px;
    background: var(--surface); color: var(--text); font-size: 14px;
    font-weight: 600; cursor: pointer; border: 1px solid var(--border);
    margin-top: 8px; transition: all 0.2s;
  }
  .btn-retry:active { transform: scale(0.97); }

  .cta-box {
    background: linear-gradient(135deg, rgba(59,130,246,0.08), rgba(139,92,246,0.08));
    border: 1px solid rgba(59,130,246,0.15); border-radius: 14px;
    padding: 18px 20px; text-align: center; margin-bottom: 16px;
  }
  .cta-box .cta-title { font-size: 15px; font-weight: 700; margin-bottom: 6px; }
  .cta-box .cta-sub { font-size: 13px; color: var(--dim); line-height: 1.5; }

  .footer-attr {
    font-size: 10px; color: var(--muted); text-align: center;
    font-family: 'Space Mono', monospace; letter-spacing: 0.5px;
    padding: 16px 0 8px; border-top: 1px solid var(--border); margin-top: auto;
  }

  /* Confetti */
  .confetti-piece {
    position: fixed; width: 8px; height: 8px; border-radius: 2px;
    animation: confettiFall 2.5s ease forwards; pointer-events: none; z-index: 999;
  }
  @keyframes confettiFall {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }
</style>
</head>
<body>

<div class="container">
  <div class="top-bar">
    <div class="logo">
      <div class="logo-mark">S</div>
      <div class="logo-name">Smart<span>SDLC</span></div>
    </div>
    <div class="badge">DevUp 2026</div>
  </div>

  <!-- ===== WELCOME SCREEN ===== -->
  <div class="screen active" id="welcomeScreen">
    <div class="welcome-icon">üè¶</div>
    <div class="welcome-title">AI Engineering in Banking<br>‚Äî DevUp 2026</div>
    <div class="welcome-sub">8 questions to test your knowledge of AI risks in banking</div>

    <div class="era-preview">
      <div class="era-row"><div class="era-dot" style="background:#64748b;"></div><div class="era-label"><b>0-2:</b> AI Novice</div></div>
      <div class="era-row"><div class="era-dot" style="background:var(--amber);"></div><div class="era-label"><b>3-4:</b> AI Aware</div></div>
      <div class="era-row"><div class="era-dot" style="background:var(--purple);"></div><div class="era-label"><b>5-6:</b> AI Practitioner</div></div>
      <div class="era-row"><div class="era-dot" style="background:var(--dino);"></div><div class="era-label"><b>7-8:</b> AI Leader</div></div>
    </div>

    <button class="btn-start" onclick="startQuiz()">Start Quiz ‚Üí</button>

    <div class="footer-attr">SmartSDLC ¬∑ Narayanan ¬∑ Gobind ¬∑ Sambit</div>
  </div>

  <!-- ===== QUESTION SCREEN ===== -->
  <div class="screen" id="questionScreen">
    <div class="q-progress" id="pips"></div>
    <div class="q-num" id="qNum"></div>
    <div class="q-text" id="qText"></div>
    <div class="q-hint" id="qHint"></div>
    <div class="options" id="opts"></div>
    <button class="btn-next" id="btnNext" onclick="nextQuestion()">Next ‚Üí</button>
    <div class="footer-attr">SmartSDLC ¬∑ DevUp 2026</div>
  </div>

  <!-- ===== RESULTS SCREEN ===== -->
  <div class="screen" id="resultScreen">
    <div class="result-era-icon" id="resIcon"></div>
    <div class="result-era-label" id="resLabel"></div>
    <div class="result-era-name" id="resName"></div>
    <div class="result-era-years" id="resYears"></div>

    <div class="result-bar-wrap">
      <div class="result-bar-bg" style="position:relative;">
        <div class="result-bar-marker" id="resMarker"></div>
      </div>
      <div class="result-bar-labels">
        <span>Novice</span><span>Aware</span><span>Practitioner</span><span>Leader</span>
      </div>
    </div>

    <div class="result-breakdown" id="resBreakdown"></div>

    <div class="result-card" id="resInsight"></div>

    <div class="cta-box">
      <div class="cta-title">Visit the SmartSDLC booth</div>
      <div class="cta-sub">Learn how to build AI systems that are safe, governed, and coherent at enterprise scale. Get hands-on with Autonomous SDLC for banking.</div>
    </div>

    <button class="btn-retry" onclick="restart()">‚Üª Retake Assessment</button>
    <div class="footer-attr">SmartSDLC ¬∑ Narayanan ¬∑ Gobind ¬∑ Sambit</div>
  </div>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// AI ENGINEERING IN BANKING ASSESSMENT ‚Äî DevUp 2026
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const QUESTIONS = [
  {
    text: "You run the same prompt through GPT-4 twice on the same codebase. It gives two different refactoring suggestions. In a regulated bank, what is this called?",
    hint: "Think about model behavior consistency in production.",
    answers: [
      { text: "A bug in the model", score: 0 },
      { text: "Non-determinism ‚Äî and it is a model risk concern", score: 1 },
      { text: "Expected ‚Äî just pick the better one", score: 0 },
      { text: "A temperature setting misconfiguration", score: 0 }
    ]
  },
  {
    text: "A bank builds an internal AI assistant that reads Confluence docs. An attacker embeds hidden text in a page. What attack is this?",
    hint: "Consider the attack surface when an LLM retrieves documents.",
    answers: [
      { text: "SQL injection via the AI interface", score: 0 },
      { text: "Prompt injection through retrieved documents", score: 1 },
      { text: "Model poisoning of the LLM weights", score: 0 },
      { text: "Man-in-the-middle on the API call", score: 0 }
    ]
  },
  {
    text: "GitHub Copilot suggests a code fix. It passes all tests and security scan. Three months later it causes a production incident. Most likely reason?",
    hint: "What might the automated tests miss?",
    answers: [
      { text: "The unit tests had low coverage", score: 0 },
      { text: "The security scanner missed a CVE", score: 0 },
      { text: "The fix violated an undocumented system contract", score: 1 },
      { text: "Copilot used a deprecated API", score: 0 }
    ]
  },
  {
    text: "A bank deploys an ML model for fraud detection. Six months later, fraud recall drops 18%. No code changed. What happened?",
    hint: "What changes in production over time?",
    answers: [
      { text: "The model was retrained incorrectly", score: 0 },
      { text: "Feature store pipeline had a data type mismatch", score: 0 },
      { text: "Model drift ‚Äî real-world patterns shifted", score: 1 },
      { text: "The fraud team changed their threshold", score: 0 }
    ]
  },
  {
    text: "An AI agent autonomously resolves Jira tickets via internal APIs. A regulator asks: who is accountable for a change it made to payment config?",
    hint: "What's the governance challenge with autonomous systems?",
    answers: [
      { text: "The engineer who approved the agent's access", score: 0 },
      { text: "The AI vendor whose model powered the agent", score: 0 },
      { text: "Nobody ‚Äî autonomous actions have no clear owner today", score: 1 },
      { text: "The CISO who signed off the AI policy", score: 0 }
    ]
  },
  {
    text: "JPMC has 60,000+ engineers. What is the BIGGEST barrier to AI coding tool adoption at scale?",
    hint: "Think about context and consistency across thousands of teams.",
    answers: [
      { text: "Engineers don't trust AI-generated code", score: 0 },
      { text: "Licensing cost per seat is too high", score: 0 },
      { text: "AI tools lack context about internal systems and conventions", score: 1 },
      { text: "Legal hasn't approved the data sharing terms", score: 0 }
    ]
  },
  {
    text: "Your bank has a 40-year-old COBOL system. You use an LLM to generate documentation. It produces confident, detailed docs. What is the core risk?",
    hint: "LLMs are great at sounding right even when wrong.",
    answers: [
      { text: "COBOL syntax is too old for LLMs", score: 0 },
      { text: "The LLM will hallucinate plausible but incorrect business rules", score: 1 },
      { text: "Generated docs won't pass the style guide", score: 0 },
      { text: "The LLM will expose code to training data leakage", score: 0 }
    ]
  },
  {
    text: "An AI agent writes a microservice, another reviews it, a third writes tests. All pass. What critical input did NONE of them have?",
    hint: "What's missing from a fully automated workflow?",
    answers: [
      { text: "Access to the production database schema", score: 0 },
      { text: "Knowledge of the programming language version", score: 0 },
      { text: "The business intent and regulatory context", score: 1 },
      { text: "A connection to the CI/CD pipeline", score: 0 }
    ]
  }
];

const TIERS = [
  { name: "AI Novice", icon: "üå±", color: "#64748b", range: "0-2 Correct",
    insight: "You're just starting your AI journey in banking. <b>That's okay ‚Äî but this is high-risk territory.</b> AI systems can confidently produce wrong answers, hallucinate regulations, and introduce model drift at scale.",
    next: "Start here: Learn about model non-determinism, prompt injection, and hallucination. Treat AI tools as assistants, not oracles. Every AI decision in a bank needs human oversight and evidence trails." },
  { name: "AI Aware", icon: "üß†", color: "#F59E0B", range: "3-4 Correct",
    insight: "You understand the basics of AI risks ‚Äî non-determinism, prompt injection, hallucination. <b>But awareness alone isn't enough.</b> You're starting to see where AI can go wrong, but governance and accountability are still fuzzy.",
    next: "The next leap: build systems that *preserve intent*. Every AI decision should have an audit trail. Link business rules to generated code. Use AI to speed up, not to replace accountability." },
  { name: "AI Practitioner", icon: "üõ†Ô∏è", color: "#8B5CF6", range: "5-6 Correct",
    insight: "You're operationalizing AI safely ‚Äî you understand model drift, you think about accountability, and you know that context matters. <b>You're building systems with friction, but the friction is there for a reason.</b>",
    next: "The final leap: eliminate the friction without eliminating the safety. Use Autonomous SDLC to preserve the chain from business intent ‚Üí architecture ‚Üí code ‚Üí evidence. Make AI fast *and* governed." },
  { name: "AI Leader", icon: "üöÄ", color: "#4ADE80", range: "7-8 Correct",
    insight: "<b>You're at the frontier.</b> You understand that the Scale Tax isn't solved by faster code generation ‚Äî it's solved by preserving coherence. You know AI tools need context, accountability, and evidence at enterprise scale.",
    next: "You're ready to build the future. Deploy AI agents that remember intent. Create delivery systems that auto-trace from business rules to runtime behavior. You're building Era 5." }
];

let current = 0;
let answers = [];
let selectedIdx = -1;

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function startQuiz() {
  current = 0; answers = []; selectedIdx = -1;
  showScreen('questionScreen');
  renderQuestion();
}

function renderQuestion() {
  const q = QUESTIONS[current];
  // Pips
  const pipsEl = document.getElementById('pips');
  pipsEl.innerHTML = QUESTIONS.map((_, i) =>
    `<div class="q-pip ${i < current ? 'done' : ''} ${i === current ? 'now' : ''}"></div>`
  ).join('');

  document.getElementById('qNum').textContent = `Question ${current + 1} of ${QUESTIONS.length}`;
  document.getElementById('qText').textContent = q.text;
  document.getElementById('qHint').textContent = q.hint;

  // Shuffle options (but keep score attached)
  const shuffled = q.answers.map((a, i) => ({ ...a, origIdx: i }));
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  const letters = ['A', 'B', 'C', 'D'];
  const optsEl = document.getElementById('opts');
  optsEl.innerHTML = shuffled.map((a, i) => `
    <div class="opt" onclick="selectOpt(this, ${a.score})" data-score="${a.score}">
      <div class="opt-letter">${letters[i]}</div>
      <div class="opt-text">${a.text}</div>
    </div>
  `).join('');

  selectedIdx = -1;
  document.getElementById('btnNext').classList.remove('ready');
  document.getElementById('btnNext').textContent = current === QUESTIONS.length - 1 ? 'See My Results ‚Üí' : 'Next ‚Üí';
}

function selectOpt(el, score) {
  document.querySelectorAll('.opt').forEach(o => o.classList.remove('selected'));
  el.classList.add('selected');
  selectedIdx = score;
  document.getElementById('btnNext').classList.add('ready');
}

function nextQuestion() {
  if (selectedIdx < 0) return;
  answers.push(selectedIdx);

  if (current < QUESTIONS.length - 1) {
    current++;
    renderQuestion();
    // Scroll to top
    window.scrollTo({ top: 0, behavior: 'smooth' });
  } else {
    showResults();
  }
}

function showResults() {
  showScreen('resultScreen');

  const total = answers.reduce((s, v) => s + v, 0);

  // Determine tier (0-3) based on score range
  let tierIdx;
  if (total <= 2) tierIdx = 0;        // AI Novice (0-2)
  else if (total <= 4) tierIdx = 1;    // AI Aware (3-4)
  else if (total <= 6) tierIdx = 2;    // AI Practitioner (5-6)
  else tierIdx = 3;                     // AI Leader (7-8)

  const tier = TIERS[tierIdx];

  document.getElementById('resIcon').textContent = tier.icon;
  document.getElementById('resLabel').innerHTML = `Your AI Banking Tier`;
  document.getElementById('resLabel').style.color = tier.color;
  document.getElementById('resName').textContent = tier.name;
  document.getElementById('resName').style.color = tier.color;
  document.getElementById('resYears').textContent = tier.range;

  // Marker position (percentage along the bar)
  // Map 0-8 score to 0-100 percentage
  const markerPct = (total / 8) * 100;
  const markerPos = Math.max(4, Math.min(96, markerPct));
  setTimeout(() => {
    document.getElementById('resMarker').style.left = `calc(${markerPos}% - 11px)`;
  }, 200);

  // Score breakdown
  const avgScore = (total / QUESTIONS.length).toFixed(1);
  document.getElementById('resBreakdown').innerHTML = `
    <div class="rb-item"><div class="rb-val" style="color:${tier.color};">${total}</div><div class="rb-label">Correct</div></div>
    <div class="rb-item"><div class="rb-val" style="color:${tier.color};">Tier ${tierIdx + 1}</div><div class="rb-label">of 4 Tiers</div></div>
    <div class="rb-item"><div class="rb-val" style="color:${tier.color};">${avgScore}</div><div class="rb-label">Avg / Question</div></div>
    <div class="rb-item"><div class="rb-val" style="color:${tier.color};">${Math.round((total / 8) * 100)}%</div><div class="rb-label">Score</div></div>
  `;

  // Insight card
  document.getElementById('resInsight').innerHTML = `
    <div class="result-card-title">üìä Your Assessment</div>
    <p>${tier.insight}</p>
    <div class="result-card-title" style="margin-top:14px;">üöÄ Your Next Step</div>
    <p>${tier.next}</p>
  `;

  // Confetti for high scores
  if (tierIdx >= 2) launchConfetti(tier.color);

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function launchConfetti(accentColor) {
  const colors = [accentColor, '#3B82F6', '#8B5CF6', '#10B981', '#F59E0B', '#EF4444', '#ffffff'];
  for (let i = 0; i < 50; i++) {
    const piece = document.createElement('div');
    piece.className = 'confetti-piece';
    piece.style.left = Math.random() * 100 + 'vw';
    piece.style.background = colors[Math.floor(Math.random() * colors.length)];
    piece.style.animationDelay = Math.random() * 1.5 + 's';
    piece.style.animationDuration = (2 + Math.random() * 2) + 's';
    piece.style.width = (5 + Math.random() * 8) + 'px';
    piece.style.height = (5 + Math.random() * 8) + 'px';
    document.body.appendChild(piece);
    setTimeout(() => piece.remove(), 4000);
  }
}

function restart() {
  current = 0; answers = []; selectedIdx = -1;
  document.getElementById('resMarker').style.left = '0%';
  showScreen('welcomeScreen');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
